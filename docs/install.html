<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abrantes - Installation</title>
    <meta name="description" content="How to install Abrantes.js, load plugins, and add the script to your site.">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo">Abrantes</a>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="examples.html">Examples</a>
                <a href="docs.html">Documentation</a>
                <a href="https://github.com/osvik/abrantes" target="_blank" rel="noreferrer">GitHub</a>
            </div>
        </div>
    </header>

    <main>
        <section class="hero docs-hero">
            <div class="container">
                <h1>Install Abrantes</h1>
                <p class="subtitle">Pick the build you want, add the script to your web page, and start experimenting.</p>
                <div class="cta-group">
                    <a href="experiments.html" class="btn btn-primary">Create your first experiment</a>
                    <a href="plugins.html" class="btn btn-secondary">Browse plugins</a>
                </div>
            </div>
        </section>

        <section class="features docs-section">
            <div class="container">
                <h2>Choose your build</h2>
                <div class="doc-grid two-col">
                    <div class="feature-card">
                        <h3>Abrantes.js</h3>
                        <p>To start to learn and test Abrantes you can use the lightweight core and add the plugins you need as separate scripts. It's good to learn the tool and you don't need to use gulp.</p>
                        <p>Don't use it in production websites as it's less performant to load the plugins as separate files without being bundled and minified.</p>
                    </div>
                    <div class="feature-card">
                        <h3>AbrantesPlus.min.js</h3>
                        <p>Prebuilt bundle with the some plugins from the repo. However you should customize the plugin list with gulp for the best performance.</p>
                        <a class="doc-link" href="build.html">How to customize the build &rarr;</a>
                    </div>
                    <div class="feature-card">
                        <h3>AbrantesPlusMod.min.js - ES6 module</h3>
                        <p>Great if you just want to use Abrantes in few pages, without changing the site's template. You import Abrantes in a ES6 module and define the experiment in one html block.</p>
                        <p>There's a prebuilt module with the plugins I use that can be loaded directly from a CDN.</p>
                        <p>This version is also good for modern web apps using modules and bundlers.</p>
                        <p>As with the non-module version you should <a href="build.html">build your own version latter</a> just with the plugins you need.</p>
                        <a class="doc-link" href="https://github.com/osvik/abrantes/blob/main/examples/as-module.html#L27-L82" target="_blank">Open example &rarr;</a>
                    </div>
                </div>
            </div>
        </section>

        <section class="features docs-section">
            <div class="container">
                <h2>Add the script to your page</h2>
                <div class="doc-grid two-col">
                    <div class="feature-card">
                        <h3>Use AbrantesPlus.min.js</h3>
                        <pre><code>&lt;script src="AbrantesPlus.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  // Your experiment code here
&lt;/script&gt;
</code></pre>
                        <p>Alternatively, load Abrantes from a CDN and it will update automatically. Use the latest stable version with <code>&lt;script src="https://cdn.jsdelivr.net/gh/osvik/abrantes@1.x.x/AbrantesPlus.min.js"&gt;&lt;/script&gt;</code>.</p>
                    </div>
                    <div class="feature-card">
                        <h3>Use Abrantes.js</h3>
                        <p>Load Abrantes first, then the plugins you need.</p>
                        <pre><code>&lt;script src="Abrantes.js"&gt;&lt;/script&gt;
&lt;script src="plugins/ga4-gtag.js"&gt;&lt;/script&gt;
&lt;script src="plugins/add2DL.js"&gt;&lt;/script&gt;
&lt;script&gt;
  // Your experiment code here
&lt;/script&gt;
</code></pre> 
                        <p>You can also load Abrantes and the plugins from a CDN. For example, use <code>&lt;script src="https://cdn.jsdelivr.net/gh/osvik/abrantes@1.x.x/Abrantes.min.js"&gt;&lt;/script&gt;</code> to load the latest stable version of Abrantes.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="features docs-section">
            <div class="container">
                <h2>Script order and dependencies</h2>
                <div class="feature-card">
                    <ul class="doc-list">
                        <li>Load Abrantes before any plugin scripts. (without defer)</li>
                        <li>Load analytics scripts (gtag, GTM, Hotjar, Clarity, Matomo) before calling their plugin
                            methods. For more information check the <a href="https://github.com/osvik/abrantes/tree/main/examples" target="_blank">examples</a>.</li>
                        <li>Place your experiment code after loading Abrantes and the plugins. Use <code>waitFor</code> to apply changes to DOM elements not yet loaded. See the <a href="https://github.com/osvik/abrantes/blob/main/examples/waitFor.html" target="_blank">waitFor example</a> for more information.</li>
                        <li>When testing locally, use a web server (not <code>file://</code>) so storage and redirects
                            work correctly.</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; Abrantes. Open source software licensed under LGPL-3.0.</p>
            <p>Maintained by <a href="https://github.com/osvik" target="_blank" rel="noreferrer">osvik</a>.</p>
        </div>
    </footer>
</body>

</html>
